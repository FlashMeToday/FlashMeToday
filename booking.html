<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Book a Slot</title>

  <!-- Bootstrap 5 CSS -->
  <link 
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" 
    rel="stylesheet"
  />
<!-- Font Awesome for WhatsApp icon -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">


  <!-- Font Awesome 6 -->
  <link 
    rel="stylesheet" 
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" 
    integrity="sha512-yHPhJj2rHtkb6FDKa0MGrdc5Z1GtvFStzYyFzrhHKx7czLKVEg4oP1PjIQ1gIXs9OapP8o3Je2Zx1vD/36VpuQ==" 
    crossorigin="anonymous" 
    referrerpolicy="no-referrer" 
  />

  <!-- Your Custom CSS -->
  <link rel="stylesheet" href="./main.css" />
  <!-- Optional: Purple Utility -->

  <!-- Favicon -->
  <link rel="icon" href="./images/favicon.png" type="image/png" />
  
  <!-- Google Fonts -->
  <link 
    href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" 
    rel="stylesheet"
  />
  
  <!-- Custom Styles -->
  <style>
    body {
      font-family: 'Roboto', sans-serif;
    }
    .text-purple {
    color: #6f42c1 !important;
  }

  .border-purple {
    border-color: #6f42c1 !important;
  }

  /* When package info is hidden: form centered with 2 columns */
  #bookingRow.only-form {
    justify-content: center;
  }

  /* Full-width inputs when left is visible */
  #formFields.full-width .form-group {
    flex: 0 0 100%;
    max-width: 100%;
  }

  /* Default two-column layout */
  #formFields .form-group {
    flex: 0 0 50%;
    max-width: 50%;
  }

.form-control,
.form-select {
  height: 50px;
  padding: 0.5rem 1rem;
  font-size: 1rem;
  border-radius: 0.5rem;
}
  @media (max-width: 768px) {
    #formFields .form-group {
      flex: 0 0 100%;
      max-width: 100%;
    }
  }

  .form-group {
    display: flex;
    flex-direction: column;
  }
  </style>
</head>

<body>

<!-- NavBar -->
<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm py-3">
  <div class="container-fluid">
    <a class="navbar-brand" href="./index.html"><img src="./Images/WebLogo/Logo-light.png" height="40px" alt="FlashMeToday Logo"></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav m-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link px-3" aria-current="page" href="./index.html">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link px-3" href="./wedding.html">Wedding</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link px-3 dropdown-toggle" href="#" id="navbarDropdown1" role="button" data-bs-toggle="dropdown">Occasions</a>
          <ul class="dropdown-menu" >
            <li><a class="dropdown-item" href="./Ocasions/pre-wedding.html">Pre Wedding</a></li>
            <li><a class="dropdown-item" href="./Ocasions/maternity.html">Maternity</a></li>
            <li><a class="dropdown-item" href="./Ocasions/baby-and-kids.html">Baby & Kids</a></li>
            <li><a class="dropdown-item" href="./Ocasions/vacations.html">Vacations</a></li>
            <li><a class="dropdown-item" href="./Ocasions/parties.html">Parties</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link px-3 dropdown-toggle" href="#" id="navbarDropdown2" role="button" data-bs-toggle="dropdown">Business</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="./Business/food.html">Food</a></li>
            <li><a class="dropdown-item" href="./Business/interior.html">Interior</a></li>
            <li><a class="dropdown-item" href="./Business/product-shoot.html">Product Shoot</a></li>
            <li><a class="dropdown-item" href="./Business/corporate-events.html">Corporate Events</a></li>
            <li><a class="dropdown-item" href="./Business/brand-video.html">Brand Video</a></li>
            <li><a class="dropdown-item" href="./Business/profile-and-headshot.html">Profile & Headshot</a></li>
          </ul>
        </li>
        <li class="nav-item"><a class="nav-link px-3" href="./ideas.html">Ideas</a></li>
        <li class="nav-item"><a class="nav-link px-3" href="./blogs.html">Blog</a></li>
        <li class="nav-item"><a class="nav-link px-3" href="./contact-us.html">Contact Us</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Booking Section (Insert above Footer) -->
<section class="py-5 bg-light">
  <div class="container">
    <h1 class="text-center fw-bold mb-3">
      Booking<span class="text-purple">.</span>
    </h1>
    <p class="text-center mb-5">
      Enter your details quickly ⚡, and reserve your slot.
    </p>

    <div class="row g-4 align-items-start justify-content-center" id="bookingRow">
      <!-- Left: Package Info -->
      <div class="col-md-5 d-none" id="packageInfo">
        <div class="card shadow-sm p-4">
          <p class="mb-1 fw-bold">PRE-WEDDING PLAN:</p>
          <h3 class="fw-bold">
            Insta Shoot<span class="text-purple">.</span>
          </h3>
          <p>Photography Only</p>
          <ul>
            <li>25 Edited images</li>
            <li>4 hours shoot, 2 locations & 2 Dress Changes</li>
            <li>Full Frame Camera & 1 Photographer with Prime lens</li>
          </ul>
          <div class="mb-3">
            <p class="text-purple fw-semibold">Price in Moradabad</p>
            <del>₹ 19,999</del>
            <span class="fs-5 fw-bold text-purple ms-2">₹ 15,999</span>
          </div>
          <button class="btn border border-purple text-purple fw-bold w-100">
            * Select your city to check price *
          </button>
        </div>
      </div>

      <!-- Right: Booking Form -->
      <div class="col-md-7" id="formCol">
        <form class="w-100" style="max-width: 100%">
          <div class="row g-3" id="formFields">
            <div class="col-md-6 form-group">
              <label class="form-label">Name</label>
              <input type="text" class="form-control" placeholder="First Last">
            </div>

            <div class="col-md-6 form-group">
              <label class="form-label">Email</label>
              <input type="email" class="form-control" placeholder="name@email.com">
            </div>

            <div class="col-md-6 form-group">
              <label class="form-label">Mobile <span class="text-purple">WhatsApp Number</span></label>
              <input type="text" class="form-control" placeholder="91999xxxxx99">
            </div>

            <div class="col-md-6 form-group">
              <label class="form-label">Time of Shoot</label>
              <input type="datetime-local" class="form-control" value="2025-07-28T00:00">
            </div>

            <div class="col-md-6 form-group">
              <label class="form-label">Plan</label>
              <select id="planSelect" class="form-select" required>
                <option selected disabled>Select Plan</option>
              </select>
            </div>

            <div class="col-md-6 form-group">
              <label class="form-label">Type of Shoot</label>
              <select id="typeSelect" class="form-select" disabled required>
                <option selected disabled>Select Type of Shoot</option>
              </select>
            </div>

            <div class="col-md-6 form-group">
              <label class="form-label">City <span class="text-purple">Verify Price Change</span></label>
              <select id="citySelect" class="form-select">
                <option selected>Moradabad</option>
                <option>Delhi</option>
                <option>Mumbai</option>
                <option>Bangalore</option>
              </select>
            </div>

            <div class="col-md-6 form-group">
              <label class="form-label">Location <span class="text-purple">Where to meet?</span></label>
              <input type="text" class="form-control" placeholder="Hotel / Apartment / Street">
            </div>
          </div>

          <button type="submit" class="btn mt-3 w-100 text-white" id="submitButton"
            style="background: linear-gradient(90deg, #6f42c1, #4b2884);">
            Proceed to Pay
          </button>

          <p class="small mt-3 text-muted">
            * Booking Subject to Availability.<br>
            * By proceeding, you agree to <a href="#" class="text-purple">Terms and Conditions</a> of this booking.<br>
            * You also agree to <a href="#" class="text-purple">Vsnapu Privacy Policy</a> and provide consent to receive WhatsApp communications.
          </p>
        </form>
      </div>
    </div>
  </div>
</section>


<!-- Footer -->
<footer class="bg-black text-white text-center py-5">
  <div class="container">
    <div class="mb-4">
      <img src="./Images/WebLogo/Logo-dark.png" alt="FlashMeToday Logo" style="height: 60px;" class="mb-3" />
      <h2 class="fw-bold mb-0">FlashMeToday<span style="color: #6f42c1;">.</span></h2>
      <p class="mb-4" style="color: #6f42c1;">Memories for Lifetime.</p>
    </div>

    <h5 class="fw-bold mb-3">Starts with a click – ends with a notification.</h5>
    <p class="text-white opacity-25 px-3 px-md-5 lead">
      FlashMeToday has made professional photography service this easy to access. Doesn't matter if you want multiple shoots at a time or multiple locations at a time. We're present across 135 international destinations with multiple teams at every location.
    </p>

    <!-- Social Links -->
    <div class="mt-4">
      <h6 class="fw-bold">Follow us:</h6>
      <div class="d-flex justify-content-center mt-2">
        <a href="#" class="fs-4 social-icon icon-facebook mx-3"><i class="bi bi-facebook"></i></a>
        <a href="#" class="fs-4 social-icon icon-instagram mx-3"><i class="bi bi-instagram"></i></a>
        <a href="#" class="fs-4 social-icon icon-linkedin mx-3"><i class="bi bi-linkedin"></i></a>
        <a href="#" class="fs-4 social-icon icon-youtube mx-3"><i class="bi bi-youtube"></i></a>
        <a href="#" class="fs-4 social-icon icon-pinterest mx-3"><i class="bi bi-pinterest"></i></a>
      </div>
    </div>
  </div>
</footer>
<!-- WhatsApp Floating Button -->
<a href="https://wa.me/91XXXXXXXXXX" target="_blank" class="whatsapp-float" style="text-decoration: none;">
  <i class="fab fa-whatsapp"></i>
</a>
<!-- Logic to Show/Hide Left and Adjust Form -->
<script>
let data = {};
let citySyncBound = false; // ensure we only bind main city listener once

// Fetch your data.json
fetch("./data.json")
  .then(res => res.json())
  .then(json => {
    data = json[0]; // your JSON starts with [ { ... } ]
    const planSelect = document.getElementById("planSelect");

    // Collect both Occasions + Business plans
    const allPlans = [...data.Occasions, ...data.Business];

    allPlans.forEach(item => {
      const option = document.createElement("option");
      option.value = item.plan;
      option.textContent = item.plan;
      planSelect.appendChild(option);
    });
  })
  .catch(err => console.error("Error loading data.json:", err));

// Handle plan change -> populate types
document.getElementById("planSelect").addEventListener("change", function () {
  const selectedPlan = this.value;
  const typeSelect = document.getElementById("typeSelect");

  // Reset type select
  typeSelect.innerHTML = '<option selected disabled>Select Type of Shoot</option>';
  typeSelect.disabled = true;

  // Search plan inside both Occasions & Business
  const selectedObj =
    data.Occasions.find(item => item.plan === selectedPlan) ||
    data.Business.find(item => item.plan === selectedPlan);

  if (selectedObj) {
    typeSelect.dataset.plan = selectedPlan; // store current plan
    selectedObj.packages.forEach(pkg => {
      const option = document.createElement("option");
      option.value = pkg["type of shoot"];
      option.textContent = pkg["type of shoot"];
      typeSelect.appendChild(option);
    });

    typeSelect.disabled = false;
  }
});

// Handle type change -> Show package info with city as text
document.getElementById("typeSelect").addEventListener("change", function () {
  const selectedType = this.value;
  const selectedPlan = this.dataset.plan;
  const packageInfoDiv = document.getElementById("packageInfo");
  const mainCitySelect = document.getElementById("citySelect");
  const currentCity = (mainCitySelect && mainCitySelect.value) || "Moradabad";
  const none = "N/A";

  // Find plan
  const selectedObj =
    data.Occasions.find(item => item.plan === selectedPlan) ||
    data.Business.find(item => item.plan === selectedPlan);
  if (!selectedObj) return;

  // Find package
  const selectedPkg = selectedObj.packages.find(pkg => pkg["type of shoot"] === selectedType);
  if (!selectedPkg) return;

  // Show package info card
  packageInfoDiv.classList.remove("d-none");

  // Fill content dynamically with city as text
  packageInfoDiv.innerHTML = `
    <div class="card shadow-sm p-4">
      <p class="mb-1 fw-bold"><span class="text-purple"><u>${selectedPlan.toUpperCase()}</u></span> PLAN:</p>
      <h3 class="fw-bold text-purple">${selectedPkg["type of shoot"]}<span class="text-purple">.</span></h3>
      <p>${selectedPkg.includes || none.toUpperCase()}</p>
      <ul>
        <li>${selectedPkg.packageDescp.join("</li><li>")}</li>
      </ul>
    
      <div class="mb-3">
        <p class="text-purple fw-semibold mb-1">
          Price in <span id="pkgCityName">${currentCity}</span>
        </p>
        <del>₹ ${Number(selectedPkg.price.original).toLocaleString("en-IN")}</del>
        <span class="fs-5 fw-bold text-purple ms-2">₹ ${Number(selectedPkg.price.offer).toLocaleString("en-IN")}</span>
      </div>
    </div>
  `;

  // Bind main form city -> package info city text, only once globally
  if (!citySyncBound && mainCitySelect) {
    mainCitySelect.addEventListener("change", (e) => {
      const city = e.target.value;
      const pkgCityName = document.getElementById("pkgCityName");
      if (pkgCityName) pkgCityName.textContent = city;
      // Recompute pricing here if city affects price later
    });
    citySyncBound = true;
  }
});
</script>


<script>
  // Pre-select Plan & Type from URL
  const urlParams = new URLSearchParams(window.location.search);
  const selectedPlan = urlParams.get('plan');
  const selectedType = urlParams.get('type');

  window.addEventListener("DOMContentLoaded", () => {
    const planSelect = document.getElementById("planSelect");
    const typeSelect = document.getElementById("typeSelect");

    // Wait until options are populated (since they're loaded from data.json)
    const observer = new MutationObserver(() => {
      if (selectedPlan && planSelect) {
        const planOption = [...planSelect.options].find(opt => opt.value === selectedPlan);
        if (planOption) {
          planSelect.value = selectedPlan;
          planSelect.dispatchEvent(new Event("change")); // trigger type population
        }
      }

      if (selectedType && typeSelect) {
        // delay a bit to let plan change populate types
        setTimeout(() => {
          const typeOption = [...typeSelect.options].find(opt => opt.value === selectedType);
          if (typeOption) {
            typeSelect.value = selectedType;
            typeSelect.dispatchEvent(new Event("change"));
          }
        }, 500);
      }
    });

    observer.observe(planSelect, { childList: true });
  });
</script>


<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>
</body>
</html>